-- H2 2.2.220; 
;              
CREATE USER IF NOT EXISTS "SA" SALT '93b899ab592dea06' HASH '70c77e28f2f05100b25b3e47006455378ab9ec179d5f1eda99de2ffb8d3fd7e8' ADMIN;          
CREATE MEMORY TABLE "PUBLIC"."AVATAR"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CREATE_DATE_TIME" TIMESTAMP(6),
    "UPDATE_DATE_TIME" TIMESTAMP(6),
    "VERSION" BIGINT,
    "IMAGE" BINARY LARGE OBJECT,
    "MIME_TYPE" CHARACTER VARYING(255),
    "USER_ID" BIGINT
);               
ALTER TABLE "PUBLIC"."AVATAR" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_7" PRIMARY KEY("ID");        
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.AVATAR;   
CREATE MEMORY TABLE "PUBLIC"."BARCODE"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CREATE_DATE_TIME" TIMESTAMP(6),
    "UPDATE_DATE_TIME" TIMESTAMP(6),
    "VERSION" BIGINT,
    "BARCODE" CHARACTER VARYING(255),
    "TASK_ID" BIGINT
); 
ALTER TABLE "PUBLIC"."BARCODE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_1" PRIMARY KEY("ID");       
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.BARCODE;  
CREATE INDEX "PUBLIC"."IDX82KBR76JS3R2VTH26FA83LFV2" ON "PUBLIC"."BARCODE"("BARCODE" NULLS FIRST);             
CREATE MEMORY TABLE "PUBLIC"."BATCH_RESPONSE"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CREATE_DATE_TIME" TIMESTAMP(6),
    "UPDATE_DATE_TIME" TIMESTAMP(6),
    "VERSION" BIGINT,
    "NOTES" CHARACTER VARYING,
    "STATUS" ENUM('FOS', 'FOS_2x', 'NOS', 'NOS_2x', 'New'),
    "TASK_ID" BIGINT,
    "USER_TASK_BATCH_ID" BIGINT
);    
ALTER TABLE "PUBLIC"."BATCH_RESPONSE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_1D" PRIMARY KEY("ID");               
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.BATCH_RESPONSE;           
CREATE INDEX "PUBLIC"."IDXP2WWQHN5490MEW090EO5CGSIB" ON "PUBLIC"."BATCH_RESPONSE"("TASK_ID" NULLS FIRST);      
CREATE INDEX "PUBLIC"."IDXGDL3EBOOMK3A27OJD79M93AU9" ON "PUBLIC"."BATCH_RESPONSE"("USER_TASK_BATCH_ID" NULLS FIRST);           
CREATE MEMORY TABLE "PUBLIC"."BATCH_RESPONSE_TASK_FILL_PROBLEM_LIST"(
    "BATCH_RESPONSE_ID" BIGINT NOT NULL,
    "TASK_FILL_PROBLEM_LIST_ID" BIGINT NOT NULL
);              
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.BATCH_RESPONSE_TASK_FILL_PROBLEM_LIST;    
CREATE MEMORY TABLE "PUBLIC"."CIRCULATION_DESK"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CREATE_DATE_TIME" TIMESTAMP(6),
    "UPDATE_DATE_TIME" TIMESTAMP(6),
    "VERSION" BIGINT,
    "CODE" CHARACTER VARYING(255),
    "NAME" CHARACTER VARYING(255),
    "LIBRARY_ID" BIGINT
);     
ALTER TABLE "PUBLIC"."CIRCULATION_DESK" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_5" PRIMARY KEY("ID");              
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.CIRCULATION_DESK;         
CREATE MEMORY TABLE "PUBLIC"."CIRCULATION_DESK_LOCATIONS"(
    "CIRCULATION_DESKS_ID" BIGINT NOT NULL,
    "LOCATIONS_ID" BIGINT NOT NULL
);   
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.CIRCULATION_DESK_LOCATIONS;               
CREATE MEMORY TABLE "PUBLIC"."LIBRARY"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CREATE_DATE_TIME" TIMESTAMP(6),
    "UPDATE_DATE_TIME" TIMESTAMP(6),
    "VERSION" BIGINT,
    "ALMA_ID" CHARACTER VARYING(255),
    "CAMPUS" CHARACTER VARYING(255),
    "CAMPUS_DESCRIPTION" CHARACTER VARYING(255),
    "CODE" CHARACTER VARYING(255),
    "DESCRIPTION" CHARACTER VARYING(255),
    "NAME" CHARACTER VARYING(255),
    "PATH" CHARACTER VARYING(255)
);              
ALTER TABLE "PUBLIC"."LIBRARY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_3" PRIMARY KEY("ID");       
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.LIBRARY;  
CREATE INDEX "PUBLIC"."IDXBTD9WD6DHLLIBWB82N1NOHM2M" ON "PUBLIC"."LIBRARY"("NAME" NULLS FIRST);
CREATE MEMORY TABLE "PUBLIC"."LOCATION"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CREATE_DATE_TIME" TIMESTAMP(6),
    "UPDATE_DATE_TIME" TIMESTAMP(6),
    "VERSION" BIGINT,
    "CODE" CHARACTER VARYING(255),
    "NAME" CHARACTER VARYING(255),
    "LIBRARY_ID" BIGINT
);             
ALTER TABLE "PUBLIC"."LOCATION" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_9" PRIMARY KEY("ID");      
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.LOCATION; 
CREATE MEMORY TABLE "PUBLIC"."TASK"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 4) NOT NULL,
    "CREATE_DATE_TIME" TIMESTAMP(6),
    "UPDATE_DATE_TIME" TIMESTAMP(6),
    "VERSION" BIGINT,
    "ALMA_BIB_MMS_ID" CHARACTER VARYING(255),
    "ALMA_HOLDING_ID" CHARACTER VARYING(255),
    "ALMA_ITEM_PID" CHARACTER VARYING(255),
    "ALMA_REQUEST_ID" CHARACTER VARYING(255),
    "AUTHOR" CHARACTER VARYING(255),
    "CALL_NUMBER" CHARACTER VARYING(255),
    "CALL_NUMBER_DISPLAY" CHARACTER VARYING(255),
    "CALL_NUMBER_NORMALIZED" CHARACTER VARYING(255),
    "CALL_NUMBER_TYPE" CHARACTER VARYING(255),
    "CIRC_DESK_CODE" CHARACTER VARYING(255),
    "DATE_PROCESSED" CHARACTER VARYING(255),
    "DESTINATION" CHARACTER VARYING(255),
    "ENUMERATION" CHARACTER VARYING(255),
    "HOLDING_LOCATION" CHARACTER VARYING(255),
    "ITEM_BARCODE" CHARACTER VARYING(255),
    "ITEM_PERM_LOCATION" CHARACTER VARYING(255),
    "ITEM_TEMP_LOCATION" CHARACTER VARYING(255),
    "LAST_DISCHARGE_DATE_TIME" TIMESTAMP(6),
    "LIBRARY_CODE" CHARACTER VARYING(255),
    "LOCATION_DISPLAY" CHARACTER VARYING(255),
    "NOTES" CHARACTER VARYING,
    "OPEN" BOOLEAN NOT NULL,
    "ORIGINAL_ITEM_BARCODE" CHARACTER VARYING(255),
    "PATRON_BARCODE" CHARACTER VARYING(255),
    "PATRON_CLEARED" BOOLEAN DEFAULT FALSE,
    "PATRON_COMMENT" CHARACTER VARYING(255),
    "PATRON_EMAIL" CHARACTER VARYING(255),
    "PATRON_REQUEST_DATE" CHARACTER VARYING(255),
    "PHYSICAL_DESCRIPTION" CHARACTER VARYING(255),
    "PICKUP_LOCATION" CHARACTER VARYING(255),
    "PICKUP_LOCATION_DISPLAY" CHARACTER VARYING(255),
    "PUBLICATION_YEAR" CHARACTER VARYING(255),
    "PUBLISHER" CHARACTER VARYING(255),
    "REQUEST_SUB_TYPE" CHARACTER VARYING(255),
    "REQUEST_TYPE" CHARACTER VARYING(255),
    "REQUESTED_RESOURCE_MD5" CHARACTER VARYING(255),
    "REQUESTER" CHARACTER VARYING(255),
    "REQUESTER_LINK" CHARACTER VARYING(255),
    "STATUS" ENUM('FOS', 'FOS_2x', 'NOS', 'NOS_2x', 'New'),
    "TASK_LOCATION" CHARACTER VARYING(255),
    "TASK_STATUS_DATE_TIME" TIMESTAMP(6),
    "TASK_STATUS_OPID" CHARACTER VARYING(255),
    "TITLE" CHARACTER VARYING(6000),
    "CURRENT_BATCH_ID" BIGINT,
    "TASK_PROBLEM_ID" BIGINT
);             
ALTER TABLE "PUBLIC"."TASK" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2" PRIMARY KEY("ID");          
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.TASK;     
INSERT INTO "PUBLIC"."TASK" VALUES
(1, TIMESTAMP '2025-01-17 16:58:19.51917', TIMESTAMP '2025-01-17 16:58:19.519173', 0, 'mms_id1', 'holding_id1', 'pid1', NULL, 'Author1', 'Task-1', 'Task-1', 'TASK-1', NULL, NULL, NULL, NULL, NULL, 'sml', 'barcode1', 'sml', NULL, NULL, NULL, NULL, NULL, FALSE, NULL, NULL, FALSE, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 'New', 'sml', NULL, NULL, 'Task1', 1, NULL),
(2, TIMESTAMP '2025-01-17 16:58:19.519964', TIMESTAMP '2025-01-17 16:58:19.519967', 0, 'mms_id2', 'holding_id2', 'pid2', NULL, 'Author2', 'Task-2', 'Task-2', 'TASK-2', NULL, NULL, NULL, NULL, NULL, 'sml', 'barcode2', 'sml', NULL, NULL, NULL, NULL, NULL, FALSE, NULL, NULL, FALSE, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 'New', 'sml', NULL, NULL, 'Task2', 1, NULL),
(3, TIMESTAMP '2025-01-17 16:58:19.52061', TIMESTAMP '2025-01-17 16:58:19.520613', 0, 'mms_id3', 'holding_id3', 'pid3', NULL, 'Author3', 'Task-3', 'Task-3', 'TASK-3', NULL, NULL, NULL, NULL, NULL, 'sml', 'barcode3', 'sml', NULL, NULL, NULL, NULL, NULL, FALSE, NULL, NULL, FALSE, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 'New', 'sml', NULL, NULL, 'Task3', 1, NULL);      
CREATE INDEX "PUBLIC"."IDX21PA6RQDTGT3MM9ISCBSQK2M1" ON "PUBLIC"."TASK"("LIBRARY_CODE" NULLS FIRST, "CIRC_DESK_CODE" NULLS FIRST);             
CREATE INDEX "PUBLIC"."IDXHYTAGSUR7R5S8XWD44EC1SK3Y" ON "PUBLIC"."TASK"("ITEM_BARCODE" NULLS FIRST);           
CREATE INDEX "PUBLIC"."IDXALQFT3AO6XT0BW8SISK8HJDX9" ON "PUBLIC"."TASK"("ORIGINAL_ITEM_BARCODE" NULLS FIRST);  
CREATE INDEX "PUBLIC"."IDX7JT0MI1SUM9TPV666WOJN4W0W" ON "PUBLIC"."TASK"("ALMA_BIB_MMS_ID" NULLS FIRST);        
CREATE INDEX "PUBLIC"."IDXCG44J5H4A1172BW5W5R094O8X" ON "PUBLIC"."TASK"("PATRON_CLEARED" NULLS FIRST);         
CREATE INDEX "PUBLIC"."IDXRM7J0DK8AXNL2CWYJ3IQ3Q2OQ" ON "PUBLIC"."TASK"("OPEN" NULLS FIRST);   
CREATE MEMORY TABLE "PUBLIC"."TASK_TASK_FILL_PROBLEMS"(
    "TASK_ID" BIGINT NOT NULL,
    "TASK_FILL_PROBLEMS_ID" BIGINT NOT NULL
);          
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.TASK_TASK_FILL_PROBLEMS;  
CREATE MEMORY TABLE "PUBLIC"."TASK_ASSIGNMENT"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CREATE_DATE_TIME" TIMESTAMP(6),
    "UPDATE_DATE_TIME" TIMESTAMP(6),
    "VERSION" BIGINT,
    "ASSIGNED_DATE_TIME" TIMESTAMP(6),
    "ITEM_BARCODE" CHARACTER VARYING(255),
    "TASK_STATUS" ENUM('FOS', 'FOS_2x', 'NOS', 'NOS_2x', 'New'),
    "ASSIGNER_ID" BIGINT,
    "RETRIEVER_ID" BIGINT,
    "TASK_ID" BIGINT
);       
ALTER TABLE "PUBLIC"."TASK_ASSIGNMENT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_5C" PRIMARY KEY("ID");              
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.TASK_ASSIGNMENT;          
CREATE INDEX "PUBLIC"."IDX83CNDKK0A9VIJIF0HYY45WFYO" ON "PUBLIC"."TASK_ASSIGNMENT"("ASSIGNER_ID" NULLS FIRST); 
CREATE INDEX "PUBLIC"."IDXRVSA6XR6DGUCR6IR4PD0B4K0L" ON "PUBLIC"."TASK_ASSIGNMENT"("TASK_STATUS" NULLS FIRST); 
CREATE INDEX "PUBLIC"."IDXEBQLALT45S43E4FA46HOHT7UF" ON "PUBLIC"."TASK_ASSIGNMENT"("TASK_ID" NULLS FIRST);     
CREATE MEMORY TABLE "PUBLIC"."TASK_FILL_PROBLEM"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CREATE_DATE_TIME" TIMESTAMP(6),
    "UPDATE_DATE_TIME" TIMESTAMP(6),
    "VERSION" BIGINT,
    "NAME" CHARACTER VARYING(255),
    "PROBLEM_CODE" CHARACTER VARYING(255),
    "SECOND_SEARCH" BOOLEAN NOT NULL
);               
ALTER TABLE "PUBLIC"."TASK_FILL_PROBLEM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" PRIMARY KEY("ID");             
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.TASK_FILL_PROBLEM;        
CREATE MEMORY TABLE "PUBLIC"."TASK_LOG"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CREATE_DATE_TIME" TIMESTAMP(6),
    "UPDATE_DATE_TIME" TIMESTAMP(6),
    "VERSION" BIGINT,
    "ITEM_BARCODE" CHARACTER VARYING(255),
    "LOG_INFORMATION" CHARACTER VARYING(255),
    "TASK_ID" BIGINT,
    "USER_ID" BIGINT
);       
ALTER TABLE "PUBLIC"."TASK_LOG" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_16" PRIMARY KEY("ID");     
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.TASK_LOG; 
CREATE INDEX "PUBLIC"."IDXAFQ981MBJ1C1DPPE8BPG1G4AD" ON "PUBLIC"."TASK_LOG"("ITEM_BARCODE" NULLS FIRST);       
CREATE INDEX "PUBLIC"."IDX8A2EP39AUDHJKDUDM2EC9GWUH" ON "PUBLIC"."TASK_LOG"("TASK_ID" NULLS FIRST);            
CREATE MEMORY TABLE "PUBLIC"."TASK_PROBLEM"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CREATE_DATE_TIME" TIMESTAMP(6),
    "UPDATE_DATE_TIME" TIMESTAMP(6),
    "VERSION" BIGINT,
    "NAME" CHARACTER VARYING(255),
    "PROBLEM_TYPE" CHARACTER VARYING(255),
    "PROBLEM_VALUE" CHARACTER VARYING(255)
);              
ALTER TABLE "PUBLIC"."TASK_PROBLEM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_9D" PRIMARY KEY("ID"); 
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.TASK_PROBLEM;             
CREATE MEMORY TABLE "PUBLIC"."TASK_STATUS_UPDATE"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CREATE_DATE_TIME" TIMESTAMP(6),
    "UPDATE_DATE_TIME" TIMESTAMP(6),
    "VERSION" BIGINT,
    "NEW_STATUS" ENUM('FOS', 'FOS_2x', 'NOS', 'NOS_2x', 'New'),
    "OLD_STATUS" ENUM('FOS', 'FOS_2x', 'NOS', 'NOS_2x', 'New'),
    "TASK_ID" BIGINT,
    "USER_ID" BIGINT,
    "USER_TASK_BATCH_ID" BIGINT
);     
ALTER TABLE "PUBLIC"."TASK_STATUS_UPDATE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_32" PRIMARY KEY("ID");           
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.TASK_STATUS_UPDATE;       
CREATE MEMORY TABLE "PUBLIC"."USER_ACCOUNT"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 4) NOT NULL,
    "CREATE_DATE_TIME" TIMESTAMP(6),
    "UPDATE_DATE_TIME" TIMESTAMP(6),
    "VERSION" BIGINT,
    "ACCOUNT_NON_EXPIRED" BOOLEAN NOT NULL,
    "ACCOUNT_NON_LOCKED" BOOLEAN NOT NULL,
    "ADMIN" BOOLEAN NOT NULL,
    "ASSIGN" BOOLEAN NOT NULL,
    "CREDENTIALS_NON_EXPIRED" BOOLEAN NOT NULL,
    "EMAIL" CHARACTER VARYING(255),
    "ENABLED" BOOLEAN NOT NULL,
    "FIRST_NAME" CHARACTER VARYING(255),
    "LAST_NAME" CHARACTER VARYING(255),
    "NET_ID" CHARACTER VARYING(255),
    "PASSWORD" CHARACTER VARYING(255),
    "RETRIEVE" BOOLEAN NOT NULL,
    "USERNAME" CHARACTER VARYING(255)
);            
ALTER TABLE "PUBLIC"."USER_ACCOUNT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_9B" PRIMARY KEY("ID"); 
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.USER_ACCOUNT;             
INSERT INTO "PUBLIC"."USER_ACCOUNT" VALUES
(1, TIMESTAMP '2025-01-17 16:58:19.497412', TIMESTAMP '2025-01-17 16:58:19.497449', 0, TRUE, TRUE, FALSE, TRUE, TRUE, NULL, TRUE, 'Test1', 'Assigner1', 'ta555', NULL, FALSE, NULL),
(2, TIMESTAMP '2025-01-17 16:58:19.516201', TIMESTAMP '2025-01-17 16:58:19.516204', 0, TRUE, TRUE, FALSE, FALSE, TRUE, NULL, TRUE, 'Test1', 'Retriever1', 'tr555', NULL, TRUE, NULL),
(3, TIMESTAMP '2025-01-17 16:58:19.516967', TIMESTAMP '2025-01-17 16:58:19.51697', 0, TRUE, TRUE, FALSE, TRUE, TRUE, NULL, TRUE, 'Test2', 'Assigner2', 'ta556', NULL, FALSE, NULL);      
CREATE MEMORY TABLE "PUBLIC"."USER_ACCOUNT_CIRC_DESKS"(
    "USER_ACCOUNT_ID" BIGINT NOT NULL,
    "CIRC_DESKS_ID" BIGINT NOT NULL
);          
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.USER_ACCOUNT_CIRC_DESKS;  
CREATE MEMORY TABLE "PUBLIC"."USER_BATCH_TASK_FILL_PROBLEM"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CREATE_DATE_TIME" TIMESTAMP(6),
    "UPDATE_DATE_TIME" TIMESTAMP(6),
    "VERSION" BIGINT,
    "TASK_ID" BIGINT,
    "TASK_FILL_PROBLEM_ID" BIGINT,
    "USER_TASK_BATCH_ID" BIGINT
);              
ALTER TABLE "PUBLIC"."USER_BATCH_TASK_FILL_PROBLEM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_7F" PRIMARY KEY("ID"); 
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.USER_BATCH_TASK_FILL_PROBLEM;             
CREATE MEMORY TABLE "PUBLIC"."USER_TASK_BATCH"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 2) NOT NULL,
    "CREATE_DATE_TIME" TIMESTAMP(6),
    "UPDATE_DATE_TIME" TIMESTAMP(6),
    "VERSION" BIGINT,
    "END_TIME" TIMESTAMP(6),
    "START_TIME" TIMESTAMP(6),
    "ASSIGNING_USER_ID" BIGINT,
    "CLOSING_USER_ID" BIGINT,
    "USER_ID" BIGINT
);      
ALTER TABLE "PUBLIC"."USER_TASK_BATCH" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_B" PRIMARY KEY("ID");               
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.USER_TASK_BATCH;          
INSERT INTO "PUBLIC"."USER_TASK_BATCH" VALUES
(1, TIMESTAMP '2025-01-17 16:58:19.518183', TIMESTAMP '2025-01-17 16:58:19.518186', 0, NULL, NULL, 1, 3, 2);     
CREATE MEMORY TABLE "PUBLIC"."USER_TASK_BATCH_TASKS"(
    "USER_TASK_BATCH_ID" BIGINT NOT NULL,
    "TASKS_ID" BIGINT NOT NULL
);              
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.USER_TASK_BATCH_TASKS;    
INSERT INTO "PUBLIC"."USER_TASK_BATCH_TASKS" VALUES
(1, 1),
(1, 2),
(1, 3);    
ALTER TABLE "PUBLIC"."TASK" ADD CONSTRAINT "PUBLIC"."UK4GNWBG4AEJBP3NWJL9IIINKSO" UNIQUE("ALMA_REQUEST_ID", "ITEM_BARCODE");   
ALTER TABLE "PUBLIC"."AVATAR" ADD CONSTRAINT "PUBLIC"."UKN6RCV8E9IK29V4V9M62O3RMUP" UNIQUE("USER_ID");         
ALTER TABLE "PUBLIC"."USER_ACCOUNT" ADD CONSTRAINT "PUBLIC"."UK52XJ1R59E6GOGV0ES2XHW3LGW" UNIQUE("NET_ID");    
ALTER TABLE "PUBLIC"."USER_ACCOUNT" ADD CONSTRAINT "PUBLIC"."UKCASTJBVPEEUS0R8LBPEHIU0E4" UNIQUE("USERNAME");  
ALTER TABLE "PUBLIC"."TASK_ASSIGNMENT" ADD CONSTRAINT "PUBLIC"."FKCG6JV0PWLIL2G6IFXIQMQWWYH" FOREIGN KEY("ASSIGNER_ID") REFERENCES "PUBLIC"."USER_ACCOUNT"("ID") NOCHECK;      
ALTER TABLE "PUBLIC"."USER_ACCOUNT_CIRC_DESKS" ADD CONSTRAINT "PUBLIC"."FK5QH94ULU2Q7OJA7WVSAM9OQDR" FOREIGN KEY("USER_ACCOUNT_ID") REFERENCES "PUBLIC"."USER_ACCOUNT"("ID") NOCHECK;          
ALTER TABLE "PUBLIC"."USER_BATCH_TASK_FILL_PROBLEM" ADD CONSTRAINT "PUBLIC"."FK6CXC4PPHVQ69VX9T6K5WNNHK9" FOREIGN KEY("TASK_FILL_PROBLEM_ID") REFERENCES "PUBLIC"."TASK_FILL_PROBLEM"("ID") NOCHECK;           
ALTER TABLE "PUBLIC"."USER_BATCH_TASK_FILL_PROBLEM" ADD CONSTRAINT "PUBLIC"."FKJK2WNDKOHMMPCVKJSLL6PNTUJ" FOREIGN KEY("TASK_ID") REFERENCES "PUBLIC"."TASK"("ID") NOCHECK;     
ALTER TABLE "PUBLIC"."TASK_TASK_FILL_PROBLEMS" ADD CONSTRAINT "PUBLIC"."FKKANY0NQJ8J5MY2C0STWAPJX7K" FOREIGN KEY("TASK_FILL_PROBLEMS_ID") REFERENCES "PUBLIC"."TASK_FILL_PROBLEM"("ID") NOCHECK;               
ALTER TABLE "PUBLIC"."USER_TASK_BATCH" ADD CONSTRAINT "PUBLIC"."FKE3IVEA83QQV61JATFSH33TJ67" FOREIGN KEY("CLOSING_USER_ID") REFERENCES "PUBLIC"."USER_ACCOUNT"("ID") NOCHECK;  
ALTER TABLE "PUBLIC"."BATCH_RESPONSE_TASK_FILL_PROBLEM_LIST" ADD CONSTRAINT "PUBLIC"."FKFD4JVOMQD6MKC4HC0W1UE0I6E" FOREIGN KEY("BATCH_RESPONSE_ID") REFERENCES "PUBLIC"."BATCH_RESPONSE"("ID") NOCHECK;        
ALTER TABLE "PUBLIC"."BATCH_RESPONSE_TASK_FILL_PROBLEM_LIST" ADD CONSTRAINT "PUBLIC"."FKNBFX8TQVSL7QIY5GTEGC2MHKI" FOREIGN KEY("TASK_FILL_PROBLEM_LIST_ID") REFERENCES "PUBLIC"."TASK_FILL_PROBLEM"("ID") NOCHECK;             
ALTER TABLE "PUBLIC"."TASK_ASSIGNMENT" ADD CONSTRAINT "PUBLIC"."FKJEC38NL7LFMLGDN036W0H3HBT" FOREIGN KEY("TASK_ID") REFERENCES "PUBLIC"."TASK"("ID") NOCHECK;  
ALTER TABLE "PUBLIC"."USER_TASK_BATCH_TASKS" ADD CONSTRAINT "PUBLIC"."FKRV0B45BEI92V08UAD36WCOHF8" FOREIGN KEY("TASKS_ID") REFERENCES "PUBLIC"."TASK"("ID") NOCHECK;           
ALTER TABLE "PUBLIC"."TASK_LOG" ADD CONSTRAINT "PUBLIC"."FKI3DTEUS6YTY5VYV7HUI42N77Q" FOREIGN KEY("TASK_ID") REFERENCES "PUBLIC"."TASK"("ID") NOCHECK;         
ALTER TABLE "PUBLIC"."CIRCULATION_DESK_LOCATIONS" ADD CONSTRAINT "PUBLIC"."FK2ECW5EUAOBEGQWNJIG2LRD4TP" FOREIGN KEY("LOCATIONS_ID") REFERENCES "PUBLIC"."LOCATION"("ID") NOCHECK;              
ALTER TABLE "PUBLIC"."TASK_TASK_FILL_PROBLEMS" ADD CONSTRAINT "PUBLIC"."FK9YF92E6R9LA55EFA3EIANP0L1" FOREIGN KEY("TASK_ID") REFERENCES "PUBLIC"."TASK"("ID") NOCHECK;          
ALTER TABLE "PUBLIC"."TASK_STATUS_UPDATE" ADD CONSTRAINT "PUBLIC"."FKEO5BKYJLRRM91KXG3I8RSGLG1" FOREIGN KEY("TASK_ID") REFERENCES "PUBLIC"."TASK"("ID") NOCHECK;               
ALTER TABLE "PUBLIC"."BATCH_RESPONSE" ADD CONSTRAINT "PUBLIC"."FK5LQ5P0580PYQ5VACIWJL0991H" FOREIGN KEY("TASK_ID") REFERENCES "PUBLIC"."TASK"("ID") NOCHECK;   
ALTER TABLE "PUBLIC"."USER_BATCH_TASK_FILL_PROBLEM" ADD CONSTRAINT "PUBLIC"."FK7AYKESWDYAAR76AAFFNQCH3MJ" FOREIGN KEY("USER_TASK_BATCH_ID") REFERENCES "PUBLIC"."USER_TASK_BATCH"("ID") NOCHECK;               
ALTER TABLE "PUBLIC"."CIRCULATION_DESK_LOCATIONS" ADD CONSTRAINT "PUBLIC"."FKL8MNWBW0UQIXXXDR5B49W6H2M" FOREIGN KEY("CIRCULATION_DESKS_ID") REFERENCES "PUBLIC"."CIRCULATION_DESK"("ID") NOCHECK;              
ALTER TABLE "PUBLIC"."CIRCULATION_DESK" ADD CONSTRAINT "PUBLIC"."FKQ81STBEKX75WF82VORW1XEL8A" FOREIGN KEY("LIBRARY_ID") REFERENCES "PUBLIC"."LIBRARY"("ID") NOCHECK;           
ALTER TABLE "PUBLIC"."TASK_ASSIGNMENT" ADD CONSTRAINT "PUBLIC"."FKL4JVKXGBUYILE88X588XV6MYJ" FOREIGN KEY("RETRIEVER_ID") REFERENCES "PUBLIC"."USER_ACCOUNT"("ID") NOCHECK;     
ALTER TABLE "PUBLIC"."AVATAR" ADD CONSTRAINT "PUBLIC"."FKGFOK3GFUR54BA5YF4M6G62SRO" FOREIGN KEY("USER_ID") REFERENCES "PUBLIC"."USER_ACCOUNT"("ID") NOCHECK;   
ALTER TABLE "PUBLIC"."TASK_LOG" ADD CONSTRAINT "PUBLIC"."FK4NJKPCF8U2KP760G0P6PMWL4X" FOREIGN KEY("USER_ID") REFERENCES "PUBLIC"."USER_ACCOUNT"("ID") NOCHECK; 
ALTER TABLE "PUBLIC"."TASK" ADD CONSTRAINT "PUBLIC"."FK96EB0PT64L9X7A5QCY667MBBL" FOREIGN KEY("CURRENT_BATCH_ID") REFERENCES "PUBLIC"."USER_TASK_BATCH"("ID") NOCHECK;         
ALTER TABLE "PUBLIC"."USER_ACCOUNT_CIRC_DESKS" ADD CONSTRAINT "PUBLIC"."FKCBP6RI8SFEYUK29GDK08GNUTM" FOREIGN KEY("CIRC_DESKS_ID") REFERENCES "PUBLIC"."CIRCULATION_DESK"("ID") NOCHECK;        
ALTER TABLE "PUBLIC"."USER_TASK_BATCH" ADD CONSTRAINT "PUBLIC"."FK1M8E1THILD8DM4FY55SFKKWG9" FOREIGN KEY("USER_ID") REFERENCES "PUBLIC"."USER_ACCOUNT"("ID") NOCHECK;          
ALTER TABLE "PUBLIC"."BATCH_RESPONSE" ADD CONSTRAINT "PUBLIC"."FKFJU3YK68A8YTOB9DUGBH6QGH5" FOREIGN KEY("USER_TASK_BATCH_ID") REFERENCES "PUBLIC"."USER_TASK_BATCH"("ID") NOCHECK;             
ALTER TABLE "PUBLIC"."TASK_STATUS_UPDATE" ADD CONSTRAINT "PUBLIC"."FKOHB1L4KK17NGW6HH4EGU2TRLL" FOREIGN KEY("USER_ID") REFERENCES "PUBLIC"."USER_ACCOUNT"("ID") NOCHECK;       
ALTER TABLE "PUBLIC"."TASK" ADD CONSTRAINT "PUBLIC"."FK3XHT629831YM1Q69RU66WCDUV" FOREIGN KEY("TASK_PROBLEM_ID") REFERENCES "PUBLIC"."TASK_PROBLEM"("ID") NOCHECK;             
ALTER TABLE "PUBLIC"."TASK_STATUS_UPDATE" ADD CONSTRAINT "PUBLIC"."FKLB0111S76SST26UMA9CPRM3GY" FOREIGN KEY("USER_TASK_BATCH_ID") REFERENCES "PUBLIC"."USER_TASK_BATCH"("ID") NOCHECK;         
ALTER TABLE "PUBLIC"."USER_TASK_BATCH" ADD CONSTRAINT "PUBLIC"."FK6ND2JQLI3DRVBX1E88TNEHVVS" FOREIGN KEY("ASSIGNING_USER_ID") REFERENCES "PUBLIC"."USER_ACCOUNT"("ID") NOCHECK;
ALTER TABLE "PUBLIC"."BARCODE" ADD CONSTRAINT "PUBLIC"."FK9T2F2XETAX18RYS4FIVTJMNMM" FOREIGN KEY("TASK_ID") REFERENCES "PUBLIC"."TASK"("ID") NOCHECK;          
ALTER TABLE "PUBLIC"."USER_TASK_BATCH_TASKS" ADD CONSTRAINT "PUBLIC"."FK4MFMKVOFJKKKSKCY9ETY1KM0H" FOREIGN KEY("USER_TASK_BATCH_ID") REFERENCES "PUBLIC"."USER_TASK_BATCH"("ID") NOCHECK;      
ALTER TABLE "PUBLIC"."LOCATION" ADD CONSTRAINT "PUBLIC"."FKC8VXICY6A1V4GO4PI7BITETOL" FOREIGN KEY("LIBRARY_ID") REFERENCES "PUBLIC"."LIBRARY"("ID") NOCHECK;   
